<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>शंखcall: Crowdsourced Disaster Monitoring Platform </title>
  <!-- Leaflet & plugins -->
   <link rel="stylesheet" href="ocean.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo"><i class="fa-solid fa-cloud"></i></div>
      <div>
        <h1>शंखcall</h1>
        <div class="tag">Unified citizen + social hazard intelligence</div>
      </div>
    </div>
    <div class="spacer"></div>
    <div class="pill">
      <i class="fa-regular fa-user"></i>
      <select id="role">
        <option value="citizen">Citizen</option>
        <option value="official">Official</option>
        <option value="analyst">Analyst</option>
      </select>
    </div>
    <div class="pill">
      <i class="fa-solid fa-language"></i>
      <select id="lang">
        <option value="en">English</option>
        <option value="hi">हिन्दी</option>
        <option value="be">বাংলা</option>
        <option value="ti">অসমীয়া</option>
        <option value="ti">தமிழ்</option>
        <option value="ti">ଓଡିଆ</option>
        <option value="ti">ಕನ್ನಡ</option>
         <option value="ti">മലയാളം</option>
        <option value="ti">తెలుగు</option>
      </select>
    </div>
    <button id="reportBtn" class="btn"><i class="fa-solid fa-plus"></i> <span data-i18n="report">Report Hazard</span></button>
  </header>

  <div class="wrap">
    <!-- Left: Filters -->
    <aside>
      <div class="card">
        <h3>Filters</h3>
        <label data-i18n="eventType">Event Type</label>
        <select id="filterType">
          <option value="all">All</option>
          <option value="tide">Unusual Tide</option>
          <option value="flood">Flooding</option>
          <option value="damage">Coastal Damage</option>
          <option value="tsunami">Tsunami</option>
          <option value="swell">Thundering</option>
          <option value="waves">High Waves</option>
        </select>
        <label data-i18n="source">Source</label>
        <select id="filterSource">
          <option value="all">All</option>
          <option value="citizen">Citizen</option>
          <option value="social">Social</option>
          <option value="verified">Verified</option>
        </select>
        <div class="grid2">
          <div>
            <label>From</label>
            <input type="date" id="fromDate" />
          </div>
          <div>
            <label>To</label>
            <input type="date" id="toDate" />
          </div>
        </div>
        <label>Location</label>
        <input id="searchBox" placeholder="e.g., Chennai, Visakhapatnam" />
        <div style="margin-top:10px; display:flex; gap:8px">
          <button id="applyFilters" class="btn secondary">Apply</button>
          <button id="resetFilters" class="btn secondary">Reset</button>
        </div>
      </div>

      <div class="card">
        <h3>Hotspots</h3>
        <div class="legend">
          <span><span class="dot" style="background:#22d3ee"></span> Reports density</span>
          <span><span class="dot" style="background:#34d399"></span> Keyword spikes</span>
          <span><span class="dot" style="background:#f43f5e"></span> Verified incidents</span>
        </div>
        <p class="tag">Heat layer shows density; clusters show localized hotspots. Toggle in map controls.</p>
      </div>

      <div class="card">
        <h3>About</h3>
        <p class="tag">A project that provides a unified platform for citizens, volunteers, and disaster managers to
          report ocean hazards and monitor social media trends in real time. <br> Built with ♡ Team CodeXPreadtors.</p>
      </div>
    </aside>

    <!-- Middle: Map + charts -->
    <main>
      <div id="map"></div>
      <div class="charts" style="margin-top:14px">
        <div class="card">
          <h3>Trend: Reports per hour</h3>
          <canvas id="trendChart" height="100"></canvas>
        </div>
        <div class="card">
          <h3>Sentiment</h3>
          <canvas id="sentimentChart" height="100"></canvas>
        </div>
      </div>
    </main>

    <!-- Right: Live feed -->
    <section class="right">
      <div class="card">
        <h3>Unified Feed</h3>
        <div class="list" id="feed"></div>
      </div>
      <div class="card">
        <h3>Social Monitor</h3>
        <div style="display:flex; gap:8px; align-items:center; margin-bottom:8px">
          <button id="ingestSample" class="btn secondary"><i class="fa-solid fa-download"></i> Load Sample Social Posts</button>
          <button id="runNlp" class="btn"><i class="fa-solid fa-wand-magic-sparkles"></i> Analyze</button>
        </div>
        <textarea id="socialRaw" rows="6" placeholder="Paste recent Twitter/X, YouTube comments, public FB posts... one per line."></textarea>
        <div class="list" id="nlpSummary" style="margin-top:10px"></div>
      </div>
    </section>
  </div>

  <!-- Report Modal -->
  <dialog id="reportModal">
    <form method="dialog">
      <div class="modal-header">
        <h2 style="margin:0">New Hazard Report</h2>
        <button class="btn secondary" onclick="reportModal.close();return false;">Close</button>
      </div>
      <div class="grid2">
        <div>
          <label>Event Type</label>
          <select id="rType" required>
            <option value="tide">Unusual Tide</option>
            <option value="flood">Flooding</option>
            <option value="damage">Coastal Damage</option>
            <option value="tsunami">Tsunami</option>
            <option value="swell">Thundering</option>
            <option value="waves">High Waves</option>
          </select>
          <label>Description</label>
          <textarea id="rDesc" rows="4" placeholder="What did you observe?" required></textarea>
          <label>When</label>
          <input id="rTime" type="datetime-local" />
          <label>Language</label>
          <select id="rLang">
          <option value="en">English</option>
          <option value="hi">हिन्दी</option>
          <option value="begali">বাংলা</option>
          <option value="assames">অসমীয়া</option>
          <option value="mala">தமிழ்</option>
          <option value="odia">ଓଡିଆ</option>
         <option value="kann">ಕನ್ನಡ</option>
         <option value="ti">മലയാളം</option>
         <option value="tel">తెలుగు</option>
          </select>
        </div>
        <div>
          <label>Location</label>
          <div style="display:flex; gap:8px">
            <input id="rLat" placeholder="Lat" />
            <input id="rLng" placeholder="Lng" />
            <button id="geoBtn" class="btn secondary" type="button"><i class="fa-solid fa-location-crosshairs"></i></button>
          </div>
          <label>Media (images/videos)</label>
          <input id="rMedia" type="file" accept="image/*,video/*" multiple />
          <div class="preview" id="mediaPreview"></div>
          <label>Consent</label>
          <div class="tag">By submitting, you confirm media is yours or permitted and does not include personal data without consent.</div>
        </div>
      </div>
      <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px">
        <button class="btn secondary" value="cancel">Cancel</button>
        <button id="submitReport" class="btn" value="default">Submit</button>
      </div>
    </form>
  </dialog>

  <script src="ocean.js"> </script>
</body>
</html>
